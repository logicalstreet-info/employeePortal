<div class="container">
  <div class="row">
    <div class="col-sm-12 col-md-12 col-lg-12 mx-auto">
      <div class="card my-5 shadow">
        <div class="card-body">
          <div class="row">
              <div class="col">
                <h2>Project</h2><br>
              </div>
              <% if has_role_admin? %>
                <div class="col-md-7 text-end">
                <%= link_to new_project_path(@user), class: "btn btn-primary", title: 'New Project', target: "_top" do%> 
                  <i class='bi bi-plus-circle-fill' aria-hidden='true'></i> 
                <% end %>
              <% end %>
            </div>
            <table class="table">
              <thead class="thead-light">
                <tr>
                  <th>Name</th>
                  <% if has_role_admin?%>
                    <th>Action</th>
                  <% end %>
                </tr>
              </thead>
              <tbody>
                <% @projects.each do |project| %>
                  <tr>
                  <% if current_user.has_role_admin %>
                      <td><%= link_to project.name, project_path(project.id) %></td>
                      <td class="col-3">
                        <%= link_to edit_project_path(project.id), class: "btn btn-success btn-sm", data: {toggle: 'tooltip', placement: 'top'}, title: 'Edit Project' do %>
                          <i class='bi bi-pencil-fill' aria-hidden='true'></i>
                        <% end %>
                        <%= link_to project_path(project.id), method: :delete , data: {turbo_method: :delete, turbo_confirm: 'Are you sure?'}, class: "btn btn-danger btn-sm", toggle: 'tooltip', placement: 'top', title: 'Destroy Project' do %>
                          <i class='bi bi-trash3-fill' aria-hidden='true'></i>
                        <% end %>
                      </td>
                      <% else %>
                      <td><%= project.name %></td>
                    <% end %>
                  </tr>
                <% end %>
              </tbody>
            </table>
            <div class="pagination justify-content-center">
              <%= paginate @projects, theme: 'bootstrap-5', pagination_class: "pagination-sm", nav_class: "d-inline-b" %>
            </div>
          </div>
        </div>
      </div>  
    </div>
  </div>
</div>